// NOTE: 此文件仅作为文本内容使用，不会被 TypeScript 编译或导入
// 文件中的导入路径可能不正确，但不影响使用，因为此文件仅作为字符串内容返回
import type { ExtractPublicPropTypes, PropType } from 'vue';
import type { DescriptionItemProps } from 'element-plus';
import type { TextTooltipProps } from '@/text-tooltip/src/text-tooltip';

export type DescItem = DescriptionItemProps & {
  content?: any;
  path?: string;
  prop?: string;
  label?: string;
  noTooltip?: boolean;
  labelStyle?: Record<string, any>;
  contentStyle?: Record<string, any>;
  labelWidth?: string | number;
  labelAlign?: 'left' | 'center' | 'right';
  contentAlign?: 'left' | 'center' | 'right';
  span?: number | 'column'; // 占用列数：数字、整行、自动填充
  format?: (value: any) => any; // 格式化函数
  // text-tooltip配置
  textTooltip?: TextTooltipProps;
};

export interface DescProps {
  // 数据
  data: Record<string, any>;
  // 配置
  config: DescItem[];
  // 布局方向
  direction?: 'horizontal' | 'vertical';
  // 列数自适应方法
  column?: number | ((width: number) => number);
  // labelWidth
  labelWidth?: string | number;
  // labelStyle
  labelStyle?: Record<string, any>;
  // contentStyle
  contentStyle?: Record<string, any>;
  // 对齐方式
  labelAlign?: 'left' | 'center' | 'right';
  contentAlign?: 'left' | 'center' | 'right';
  // 空值显示
  emptyText?: string;
  noTooltip?: boolean;
}

export const descProps = {
  data: {
    type: Object as PropType<DescProps['data']>,
    default: () => ({})
  },
  config: {
    type: Array as PropType<DescProps['config']>,
    default: () => []
  },
  direction: {
    type: String as PropType<'horizontal' | 'vertical'>,
    default: 'horizontal'
  },
  column: {
    type: [Number, Function] as PropType<DescProps['column']>,
    default: 3
  },
  labelWidth: {
    type: [String, Number] as PropType<DescProps['labelWidth']>,
    default: undefined
  },
  labelStyle: {
    type: Object as PropType<DescProps['labelStyle']>,
    default: () => ({})
  },
  contentStyle: {
    type: Object as PropType<DescProps['contentStyle']>,
    default: () => ({})
  },
  labelAlign: {
    type: String as PropType<'left' | 'center' | 'right'>,
    default: 'left'
  },
  contentAlign: {
    type: String as PropType<'left' | 'center' | 'right'>,
    default: 'left'
  },
  emptyText: {
    type: String as PropType<DescProps['emptyText']>,
    default: ''
  },
  noTooltip: {
    type: Boolean as PropType<DescProps['noTooltip']>,
    default: false
  }
} as const;

export type descriptionsInstance = ExtractPublicPropTypes<typeof descProps>;
