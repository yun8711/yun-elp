---
title: 流程
---

<h1>kd-elp 开发流程</h1>

### 环境准备

环境要求 nodejs>=18，pnpm>=8<br>

全局安装 czg：`pnpm add -g czg`<br>

拉取项目后，执行`pnpm install`或`pnpm bootstrap`安装依赖，注意必须使用pnpm。

### 编写组件

开始编写新组件之前，需要拉一个新分支，main分支是保护分支，不能直接提交代码。<br>

1、创建组件<br>

执行`pnpm new`命令，根据提示输入组件标签名称、中文名称，选择组件类别，即可生成组件相关文件：包括组件源码、组件文档、组件示例等。<br><br>

2、编写组件<br>

在组件源码中，编写组件的逻辑代码，样式代码等。<br>

启动组件开发示例项目：`pnpm play`，启动成功后打开 `localhost:1111/main` 便可看到组件示例页面。<br>

在组件示例中，引用编写好的组件，查看组件效果及调试功能。<br>

> 在组件开发示例项目中，已经全局引入了element-plus组件库、样式、图标，全局引入了kd-elp组件库，并准备了一些静态资源和数据，所以在组件开发过程中，可以直接使用，无需再次引入。

<br>

3、编写组件测试用例<br>

在组件目下的`__tests__`目录下编写组件测试用例，尽可能多的覆盖主要功能<br>

然后运行测试用例，如果是webstrom，可以直接运行用例，并查看测试结果<br><br>

4、编写组件文档<br>

待测试用例通过后，编写组件文档，包括组件的使用说明、示例代码等<br>

如果没有意外，可以把开发过程中示例项目中的代码直接复制到文档的代码示例中<br>

执行`pnpm docs`，可以本地启动组件文档项目，以查看文档效果<br><br>

5、提交代码<br>

执行`pnpm commit`命令，根据提示输入提交信息，即可提交代码<br>
